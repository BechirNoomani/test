{{#*inline "ifCond" v1 operator v2}} {{#if (compare v1 operator v2)}} {{! If
condition is true, execute the inner block }} {{yield}} {{/if}} {{/inline}}
{{#*inline "compare" v1 operator v2}} {{#if (eq v1 operator v2)}} true {{else}}
false {{/if}} {{/inline}}

  

  <body class="bg-gray-100 font-sans leading-normal tracking-normal">

  

    <main>

      <div class="flex flex-row md:flex-row">
        <nav aria-label="alternative nav" class="fixed h-full z-20">
          <div
            class="bg-gray-800 shadow-xl h-20 bottom-0 pt-1 md:relative md:h-full fixed z-20 w-58 md:w-58 content-center"
          >

            <div
              class="md:mt-0 md:w-48 md: md:left-0 md:top-0 content-center md:content-start text-left justify-between"
            >
              <ul
                class="list-reset flex flex-row md:flex-col pt-3 md:py-3 px-1 md:px-2 text-center md:text-left"
              >
            <li class="flex-1 mb-10">
  <button
    onclick="toggleDD('myDropdown')"
    class="drop-button text-white py-2 px-2"
  >
    <span class="md:pr-3">
      <i class="fa-solid fa-user"></i>
    </span>
    Hi, UserName
    <svg
      class="h-3 fill-current inline hover:to-blue-500"
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 20 20"
    >
      <path
        d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"
      />
    </svg>
  </button>
  <div
    id="myDropdown"
    class="dropdownlist absolute  text-gray-200 right-0 mt-3 p-0 overflow-auto z-30 invisible rounded-lg"
  >
    <a
      href="/test"
      class="p-2   text-gray-200 hover:text-gray-500 text-sm no-underline hover:no-underline block"
    >
      <i class="fas fa-sign-out-alt fa-fw"></i>
      Log Out
    </a>
  </div>
</li>
			  <li class="flex-1">
                  <a
                    href="/test"
                    class="block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-blue-600 border-b-2 border-gray-200 hover:border-blue-600"
                  >
                    <i class="fa-solid fa-house-user md:pr-3"></i>
                    <span
                      class="pb-1 md:pb-0 text-xs md:text-base block md:inline-block"
                    >Home</span>
                  </a>
                </li>
                <li class="flex-1">
                  <a
                    href="/AddGame"
                    class="block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-blue-600 border-b-2 border-gray-200 hover:border-blue-600"
                  >
                    <i class="fa-regular fa-square-plus md:pr-3"></i>
                    <span
                      class="pb-1 md:pb-0 text-xs md:text-base block md:inline-block"
                    >Add Game</span>
                  </a>
                </li>
                <li class="flex-1">
                  <a
                    href="/UsersPanel"
                    class="block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-blue-600 border-b-2 border-gray-200 hover:border-blue-600"
                  >  
                    <i class="fa-solid fa-users md:pr-3"></i></i><span
                      class="pb-1 md:pb-0 text-xs md:text-base block md:inline-block"
                    >Users Panel</span>
                  </a>
                </li>
                <li class="flex-1">
                  <a
                    href="#"
                    class="block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-blue-600 border-b-2 border-gray-200 hover:border-blue-600"
                  >
                    <i class="fa-solid fa-database md:pr-3"></i><span
                      class="pb-1 md:pb-0 text-xs md:text-base block md:inline-block"
                    >Data</span>
                  </a>
                </li>
                <li class="flex-1">
                  <a
                    href="#"
                    class="block py-1 md:py-3 pl-1 align-middle text-white no-underline hover:text-blue-600 border-b-2 border-gray-200 hover:border-blue-600"
                  >
                    <i class="fa-solid fa-rotate-left md:pr-3"></i><span
                      class="pb-1 md:pb-0 text-xs md:text-base block md:inline-block"
                    >Welcome Page</span>
                  </a>
                </li>
                
              </ul>
            </div>

          </div>
        </nav>
        <section class=" basis-full">
          
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
		<div class="py-6">
			<h2 class="text-2xl font-bold leading-tight text-gray-900">
				Users List
			</h2>
		</div>
		<div class="flex flex-col md:flex-row justify-between items-center mb-4">
			<div class="w-full md:w-auto md:mr-4 mb-2 md:mb-0">
				<label class="block text-gray-700 font-bold mb-2" for="search">
					Search:
				</label>
				<div class="relative">
					<input
						class="shadow appearance-none border rounded w-full md:w-64 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
						id="search"
						type="text"
						placeholder="Enter username..." />
					<div
						class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
						<svg
							class="fill-current text-gray-400 w-4 h-4"
							viewBox="0 0 20 20">
							<path
								fill-rule="evenodd"
								d="M9 2a7 7 0 015.775 11.139l4.387 4.387a1 1 0 01-1.414 1.414l-4.387-4.387A7 7 0 119 2zm0 2a5 5 0 100 10A5 5 0 009 4z"
								clip-rule="evenodd"></path>
						</svg>
					</div>
				</div>
			</div>
			<div class="w-full md:w-auto">
				<label class="block text-gray-700 font-bold mb-2">
					Search by:
				</label>
				<div class="flex flex-col md:flex-row md:items-center">
					<div class="flex items-center mr-2 mb-2 md:mb-0">
						<input
							type="checkbox"
							name="username"
							id="username"
							class="mr-2" />
						<label
							for="username"
							class="inline-block font-bold text-gray-700"
							>Username</label
						>
					</div>
					<div class="flex items-center">
						<input type="checkbox" name="role" id="role" class="mr-2" />
						<label for="role" class="inline-block font-bold text-gray-700"
							>Role</label
						>
						<select
							id="role-select"
							class="block w-full md:w-32 mt-1 rounded-md shadow-sm form-select ml-2">
							<option value="all">All</option>
							<option value="admin">Admin</option>
							<option value="user">User</option>
						</select>
					</div>
				</div>
			</div>
		</div>

		<div class="-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto">
			<div class="inline-block min-w-full shadow rounded-lg overflow-hidden">
				<table class="min-w-full leading-normal">
					<thead>
						<tr>
							<th
								scope="col"
								class="px-5 py-3 bg-gray-800 text-left text-xs font-medium text-gray-100 uppercase tracking-wider align-middle">
								Username
							</th>
							<th
								scope="col"
								class="px-5 py-3 bg-gray-800 text-left text-xs font-medium text-gray-100 uppercase tracking-wider align-middle">
								Email
							</th>
							<th
								scope="col"
								class="px-5 py-3 bg-gray-800 text-left text-xs font-medium text-gray-100 uppercase tracking-wider align-middle">
								Password
							</th>
							<th
								scope="col"
								class="px-5 py-3 bg-gray-800 text-left text-xs font-medium text-gray-100 uppercase tracking-wider align-middle">
								Role
							</th>
							<th
								scope="col"
								class="px-5 py-3 m-0 bg-gray-800 text-left text-xs font-medium text-gray-100 uppercase tracking-wider align-middle">
								action
							</th>
						</tr>
					</thead>
					<tbody>
						{{#each users}}
						<tr>
							<td class="px-5 py-5 bg-white text-sm">
								<div class="flex items-center">
									<div class="ml-3">
										<p class="text-gray-900 whitespace-no-wrap">
											{{this.username}}
										</p>
									</div>
								</div>
							</td>
							<td class="px-5 py-5 bg-white text-sm">
								<p class="text-gray-900 whitespace-no-wrap">
									{{this.email}}
								</p>
							</td>
							<td class="px-5 py-5 bg-white text-sm">
								<p class="text-gray-900 whitespace-no-wrap">
									{{this.password}}
								</p>
							</td>
							<td class="px-5 py-5 bg-white text-sm">
								<div
									class="relative inline-block w-10 mr-2 align-middle">
									<form
										method="POST"
										action="/UsersPanel/{{this.id}}/role">
										<select
											name="role"
											class="block w-25 mt-1 rounded-md shadow-sm form-select"
											onchange="if(confirm(`Are you sure you want to change  {{username}} role to ${event.target.value}?`)){this.form.submit();}">
											{{#ifCond this.role "===" "admin"}}
											<option value="admin" selected>Admin</option>
											{{else}}
											<option value="admin">Admin</option>
											{{/ifCond}} {{#ifCond this.role "===" "user"}}
											<option value="user" selected>User</option>
											{{else}}
											<option value="user">User</option>
											{{/ifCond}}
										</select>
									</form>
								</div>
							</td>
							<td class=" py-0 px-4 m-0 bg-white text-sm">
								<form
									method="POST"
									action="/UsersPanel/{{this.id}}/delete"
									onsubmit="return confirm('Are you sure you want to delete {{username}} account ?')">
									<button
										type="submit"
										class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-4 rounded">
										Delete
									</button>
								</form>
							</td>
						</tr>
						{{/each}}
					</tbody>
				</table>
			</div>
		</div>
	</div>
        </section>
      </div>
    </main>

    <script src="../scripts/search.js"></script>

  </body>

